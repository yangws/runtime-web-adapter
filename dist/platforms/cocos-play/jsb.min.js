!function i(a,u,c){function s(t,e){if(!u[t]){if(!a[t]){var o="function"==typeof require&&require;if(!e&&o)return o(t,!0);if(f)return f(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var r=u[t]={exports:{}};a[t][0].call(r.exports,function(e){return s(a[t][1][e]||e)},r,r.exports,i,a,u,c)}return u[t].exports}for(var f="function"==typeof require&&require,e=0;e<c.length;e++)s(c[e]);return s}({1:[function(e,t,o){"use strict";var n,r=(n=e("../../util"))&&n.__esModule?n:{default:n};var i=loadRuntime();r.default.exportTo("onShow",i,jsb),r.default.exportTo("onHide",i,jsb),r.default.exportTo("offShow",i,jsb),r.default.exportTo("offHide",i,jsb)},{"../../util":20}],2:[function(e,t,o){"use strict";var n,r=(n=e("../../util"))&&n.__esModule?n:{default:n};var i=loadRuntime();r.default.exportTo("loadSubpackage",i,jsb)},{"../../util":20}],3:[function(e,t,o){"use strict";var n,r=(n=e("../../util"))&&n.__esModule?n:{default:n};var i=loadRuntime();r.default.exportTo("env",i,jsb),r.default.exportTo("getSystemInfo",i,jsb),r.default.exportTo("getSystemInfoSync",i,jsb)},{"../../util":20}],4:[function(e,t,o){"use strict";function s(e){for(var t,o=0;o<l.length;o++)if(t=l[o],e.identifier===t.identifier)return o;return-1}function f(e,t){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])}var n=loadRuntime(),l=[],d={touchstart:[],touchmove:[],touchend:[],touchcancel:[]};function r(e,t){for(var o=d[e]||[],n=o.length,r=0;r<n;++r)if(t===o[r])return void o.splice(r,1)}var h=!1,i=n.getSystemInfoSync();window.innerWidth&&i.windowWidth!==window.innerWidth&&(h=!0);function a(c){return function(e){if("function"!=typeof e){var o,t=new TouchEvent(c);"touchstart"===c?e.forEach(function(e){var t;0<=(o=s(e))?f(e,l[o]):(f(e,t={}),l.push(t))}):"touchmove"===c?e.forEach(function(e){0<=(o=s(e))&&f(e,l[o])}):"touchend"!==c&&"touchcancel"!==c||e.forEach(function(e){0<=(o=s(e))&&l.splice(o,1)});var r=[].concat(l),i=[];e.forEach(function(e){for(var t=r.length,o=0;o<t;++o){var n=r[o];if(e.identifier===n.identifier)return void i.push(n)}i.push(e)}),t.touches=r,t.targetTouches=r,t.changedTouches=i,h&&(r.forEach(function(e){e.clientX/=window.devicePixelRatio,e.clientY/=window.devicePixelRatio,e.pageX/=window.devicePixelRatio,e.pageY/=window.devicePixelRatio}),"touchcancel"!==c&&"touchend"!==c||i.forEach(function(e){e.clientX/=window.devicePixelRatio,e.clientY/=window.devicePixelRatio,e.pageX/=window.devicePixelRatio,e.pageY/=window.devicePixelRatio}));for(var n=d[c],a=n.length,u=0;u<a;u++)n[u](t)}else!function(e,t){for(var o=d[e],n=0,r=o.length;n<r;n++)if(t===o[n])return;o.push(t)}(c,e)}}n.onTouchStart?(jsb.onTouchStart=n.onTouchStart,jsb.offTouchStart=n.offTouchStart):(jsb.onTouchStart=a("touchstart"),jsb.offTouchStart=function(e){r("touchstart",e)}),n.onTouchMove?(jsb.onTouchMove=n.onTouchMove,jsb.offTouchMove=n.offTouchMove):(jsb.onTouchMove=a("touchmove"),jsb.offTouchMove=function(e){r("touchmove",e)}),n.onTouchCancel?(jsb.onTouchCancel=n.onTouchCancel,jsb.offTouchCancel=n.offTouchCancel):(jsb.onTouchCancel=a("touchcancel"),jsb.offTouchCancel=function(e){r("touchcancel",e)}),n.onTouchEnd?(jsb.onTouchEnd=n.onTouchEnd,jsb.offTouchEnd=n.offTouchEnd):(jsb.onTouchEnd=a("touchend"),jsb.offTouchEnd=function(e){r("touchend",e)})},{}],5:[function(e,t,o){"use strict";var n,r,i,a=loadRuntime(),u=a.getSystemInfoSync(),c=[];jsb.device=jsb.device||{},a.offAccelerometerChange?(n=[0,0,0],r=function(t){n[0]=.8*n[0]+(1-.8)*t.x,n[1]=.8*n[1]+(1-.8)*t.y,n[2]=.8*n[2]+(1-.8)*t.z,c.forEach(function(e){e({acceleration:{x:t.x-n[0],y:t.y-n[1],z:t.z-n[2]},accelerationIncludingGravity:{x:t.x,y:t.y,z:t.z}})})},i="android"===u.platform.toLowerCase()?function(e){e.x*=-10,e.y*=-10,e.z*=-10,r(e)}:function(e){e.x*=10,e.y*=10,e.z*=10,r(e)},jsb.onAccelerometerChange=function(e){if("function"==typeof e){for(var t=c.length,o=0;o<t;++o)if(e===c[o])return;c.push(e),0===t&&a.onAccelerometerChange(i)}},jsb.offAccelerometerChange=function(e){for(var t=c.length,o=0;o<t;++o)if(e===c[o])return c.splice(o,1),void(1===t&&a.offAccelerometerChange(i))},jsb.stopAccelerometer=a.stopAccelerometer.bind(a),jsb.startAccelerometer=a.startAccelerometer.bind(a),jsb.device.setMotionEnabled=function(e){e?a.startAccelerometer({type:"accelerationIncludingGravity"}):a.stopAccelerometer({})}):(jsb.onAccelerometerChange=function(e){if("function"==typeof e){for(var t=c.length,o=0;o<t;++o)if(e===c[o])return;c.push(e)}},jsb.offAccelerometerChange=function(e){for(var t=c.length,o=0;o<t;++o)if(e===c[o])return void c.splice(o,1)},jsb.device.dispatchDeviceMotionEvent=function(t){c.forEach(function(e){e(t)})},jsb.stopAccelerometer=function(){jsb.device.setMotionEnabled(!1)},jsb.startAccelerometer=function(){jsb.device.setMotionEnabled(!0)})},{}],6:[function(e,t,o){"use strict";var n,r=(n=e("../../util"))&&n.__esModule?n:{default:n};var i=loadRuntime();r.default.exportTo("getBatteryInfo",i,jsb),r.default.exportTo("getBatteryInfoSync",i,jsb)},{"../../util":20}],7:[function(e,t,o){"use strict";var n,r=(n=e("../../util"))&&n.__esModule?n:{default:n};var i=loadRuntime();r.default.exportTo("getFileSystemManager",i,jsb)},{"../../util":20}],8:[function(e,t,o){"use strict";window.jsb||(window.jsb={}),e("./base/lifecycle"),e("./base/subpackage"),e("./base/system-info"),e("./base/touch-event"),e("./device/accelerometer"),e("./device/battery"),e("./file/file-system-manager"),e("./interface/keyboard"),e("./interface/window"),e("./media/audio"),e("./media/video"),e("./network/download"),e("./rendering/canvas"),e("./rendering/webgl"),e("./rendering/font"),e("./rendering/frame"),e("./rendering/image")},{"./base/lifecycle":1,"./base/subpackage":2,"./base/system-info":3,"./base/touch-event":4,"./device/accelerometer":5,"./device/battery":6,"./file/file-system-manager":7,"./interface/keyboard":9,"./interface/window":10,"./media/audio":11,"./media/video":12,"./network/download":13,"./rendering/canvas":14,"./rendering/font":15,"./rendering/frame":16,"./rendering/image":17,"./rendering/webgl":18}],9:[function(e,t,o){"use strict";var n,r=(n=e("../../util"))&&n.__esModule?n:{default:n};var i=loadRuntime();r.default.exportTo("onKeyboardInput",i,jsb),r.default.exportTo("onKeyboardConfirm",i,jsb),r.default.exportTo("onKeyboardComplete",i,jsb),r.default.exportTo("offKeyboardInput",i,jsb),r.default.exportTo("offKeyboardConfirm",i,jsb),r.default.exportTo("offKeyboardComplete",i,jsb),r.default.exportTo("hideKeyboard",i,jsb),r.default.exportTo("showKeyboard",i,jsb),r.default.exportTo("updateKeyboard",i,jsb)},{"../../util":20}],10:[function(e,t,o){"use strict";var n=loadRuntime().onWindowResize;jsb.onWindowResize=function(t){n(function(e){t(e.width||e.windowWidth,e.height||e.windowHeight)})}},{}],11:[function(e,t,o){"use strict";var n=i(e("../../inner-context")),r=i(e("../../util"));function i(e){return e&&e.__esModule?e:{default:e}}var a=loadRuntime();r.default.exportTo("AudioEngine",a,jsb),r.default.exportTo("createInnerAudioContext",a,jsb,function(){a.AudioEngine&&(jsb.createInnerAudioContext=function(){return(0,n.default)(a.AudioEngine)})})},{"../../inner-context":19,"../../util":20}],12:[function(e,t,o){"use strict";var n,r=(n=e("../../util"))&&n.__esModule?n:{default:n};var i=loadRuntime();r.default.exportTo("createVideo",i,jsb)},{"../../util":20}],13:[function(e,t,o){"use strict";var n,r=(n=e("../../util"))&&n.__esModule?n:{default:n};var i=loadRuntime();r.default.exportTo("downloadFile",i,jsb)},{"../../util":20}],14:[function(e,t,o){"use strict";var n,r=(n=e("../../util"))&&n.__esModule?n:{default:n};var i=loadRuntime();r.default.exportTo("createCanvas",i,jsb,function(){document&&"function"==typeof document.createElement&&(jsb.createCanvas=function(){return document.createElement("canvas")})})},{"../../util":20}],15:[function(e,t,o){"use strict";var n,r=(n=e("../../util"))&&n.__esModule?n:{default:n};var i=loadRuntime();r.default.exportTo("loadFont",i,jsb)},{"../../util":20}],16:[function(e,t,o){"use strict";var n=loadRuntime();jsb.setPreferredFramesPerSecond?jsb.setPreferredFramesPerSecond=jsb.setPreferredFramesPerSecond.bind(jsb):n.setPreferredFramesPerSecond?jsb.setPreferredFramesPerSecond=n.setPreferredFramesPerSecond.bind(n):jsb.setPreferredFramesPerSecond=function(){console.error("The setPreferredFramesPerSecond is not define!")}},{}],17:[function(e,t,o){"use strict";var n,r=(n=e("../../util"))&&n.__esModule?n:{default:n};var i=loadRuntime();r.default.exportTo("loadImageData",i,jsb),r.default.exportTo("createImage",i,jsb,function(){document&&"function"==typeof document.createElement&&(jsb.createImage=function(){return document.createElement("image")})})},{"../../util":20}],18:[function(e,t,o){"use strict";var b,m,g;window.__gl&&(b=window.__gl,m=b.texImage2D,b.texImage2D=function(e,t,o,n,r,i,a,u,c){var s,f,l,d,h,v,p=arguments.length;6===p?(u=r,a=n,(s=i)instanceof HTMLImageElement?(f=console.error,console.error=function(){},m.apply(void 0,arguments),console.error=f,b.texImage2D_image(e,t,s._imageMeta)):s instanceof HTMLCanvasElement?(l=console.error,console.error=function(){},m.apply(void 0,arguments),console.error=l,d=s.getContext("2d"),b.texImage2D_canvas(e,t,o,a,u,d)):s instanceof ImageData?(h=console.error,console.error=function(){},m(e,t,o,s.width,s.height,0,a,u,s.data),console.error=h):console.error("Invalid pixel argument passed to gl.texImage2D!")):9===p?(v=console.error,console.error=function(){},m(e,t,o,n,r,i,a,u,c),console.error=v):console.error("gl.texImage2D: invalid argument count!")},g=b.texSubImage2D,b.texSubImage2D=function(e,t,o,n,r,i,a,u,c){var s,f,l,d,h,v,p=arguments.length;7===p?(s=a,u=i,a=r,s instanceof HTMLImageElement?(f=console.error,console.error=function(){},g.apply(void 0,arguments),console.error=f,b.texSubImage2D_image(e,t,o,n,s._imageMeta)):s instanceof HTMLCanvasElement?(l=console.error,console.error=function(){},g.apply(void 0,arguments),console.error=l,d=s.getContext("2d"),b.texSubImage2D_canvas(e,t,o,n,a,u,d)):s instanceof ImageData?(h=console.error,console.error=function(){},g(e,t,o,n,s.width,s.height,a,u,s.data),console.error=h):console.error("Invalid pixel argument passed to gl.texImage2D!")):9===p?(v=console.error,console.error=function(){},g(e,t,o,n,r,i,a,u,c),console.error=v):console.error(new Error("gl.texImage2D: invalid argument count!").stack)})},{}],19:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(t){void 0===y&&(y=Object.assign({},t),Object.keys(t).forEach(function(e){"function"==typeof t[e]&&(t[e]=function(){return console.warn("AudioEngine."+e+" is deprecated"),y[e].apply(t,arguments)})}));return new T};function n(e,t,o){var n=j.get(e);if("function"!=typeof o||!n)return-1;for(var r=n[t]||[],i=0,a=r.length;i<a;++i)if(o===r[i])return r.splice(i,1),o.length+1;return 0}function r(e,t,o){var n=j.get(e);if("function"!=typeof o||!n)return-1;var r=n[t];if(r){for(var i=0,a=r.length;i<a;++i)if(o===r[i])return 0;r.push(o)}else r=n[t]=[o];return r.length}function i(e,t,o){var n=2<arguments.length&&void 0!==o?o:[],r=j.get(e);if(r)for(var i=r[t]||[],a=0,u=i.length;a<u;++a)i[a].apply(e,n)}var a="canplayCallbacks",u="endedCallbacks",c="errorCallbacks",s="pauseCallbacks",f="playCallbacks",l="seekedCallbacks",d="seekingCallbacks",h="stopCallbacks",v="timeUpdateCallbacks",p="waitingCallbacks",b=10003,m=-1,g={ERROR:-1,INITIALIZING:0,PLAYING:1,PAUSED:2},y=void 0,j=new WeakMap;function T(){this.startTime=0,this.autoplay=!1,j.set(this,{src:"",volume:1,loop:!1}),Object.defineProperty(this,"loop",{set:function(e){e=!!e;var t,o=j.get(this);o&&("number"==typeof(t=o.audioID)&&0<=t&&y.setLoop(t,e),o.loop=e)},get:function(){var e=j.get(this);return!!e&&e.loop}}),Object.defineProperty(this,"volume",{set:function(e){"number"==typeof e?e<0?e=0:1<e&&(e=1):e=1;var t,o=j.get(this);o&&("number"==typeof(t=o.audioID)&&0<=t&&y.setVolume(t,e),o.volume=e)},get:function(){var e=j.get(this);return e?e.volume:1}}),Object.defineProperty(this,"src",{set:function(e){var t,o,n=j.get(this);n&&(t=n.src,"string"==typeof(n.src=e)&&("number"==typeof(o=n.audioID)&&0<=o&&y.getState(o)===g.PAUSED&&t!==e&&(y.stop(o),n.audioID=-1),this.autoplay&&this.play()))},get:function(){var e=j.get(this);return e?e.src:""}}),Object.defineProperty(this,"duration",{get:function(){var e=j.get(this);if(e){var t=e.audioID;if("number"==typeof t&&0<=t)return y.getDuration(t)}return NaN},set:function(){}}),Object.defineProperty(this,"currentTime",{get:function(){var e=j.get(this);if(e){var t=e.audioID;if("number"==typeof t&&0<=t)return y.getCurrentTime(t)}return 0},set:function(){}}),Object.defineProperty(this,"paused",{get:function(){var e=j.get(this);if(e){var t=e.audioID;if("number"==typeof t&&0<=t)return y.getState(t)===g.PAUSED}return!0},set:function(){}}),Object.defineProperty(this,"buffered",{get:function(){var e=j.get(this);if(e){var t=e.audioID;if("number"==typeof t&&0<=t)return y.getBuffered(t)}return 0},set:function(){}})}var x=T.prototype;x.destroy=function(){var e,t=j.get(this);t&&("number"==typeof(e=t.audioID)&&0<=e&&(y.stop(e),t.audioID=-1,i(this,h)),t[a]=[],t[u]=[],t[c]=[],t[s]=[],t[f]=[],t[l]=[],t[d]=[],t[h]=[],t[v]=[],t[p]=[],clearInterval(t.intervalID))},x.play=function(){var e=j.get(this);if(e){var t,o=e.src,n=e.audioID;if("string"==typeof o&&""!==o){if("number"==typeof n&&0<=n){if(y.getState(n)===g.PAUSED)return y.resume(n),void i(this,f);y.stop(n),e.audioID=-1}-1!==(n=y.play(o,this.loop,this.volume))?(e.audioID=n,"number"==typeof this.startTime&&0<this.startTime&&y.setCurrentTime(n,this.startTime),i(this,p),t=this,y.setCanPlayCallback(n,function(){o===t.src&&(i(t,a),i(t,f))}),y.setWaitingCallback(n,function(){o===t.src&&i(t,p)}),y.setErrorCallback(n,function(){o===t.src&&(e.audioID=-1,i(t,c))}),y.setFinishCallback(n,function(){o===t.src&&(e.audioID=-1,i(t,u))})):i(this,c,[{errMsg:"unknown",errCode:m}])}else i(this,c,[{errMsg:"invalid src",errCode:b}])}},x.pause=function(){var e,t=j.get(this);!t||"number"==typeof(e=t.audioID)&&0<=e&&(y.pause(e),i(this,s))},x.seek=function(e){var t,o=j.get(this);o&&"number"==typeof e&&0<=e&&("number"==typeof(t=o.audioID)&&0<=t&&(y.setCurrentTime(t,e),i(this,d),i(this,l)))},x.stop=function(){var e,t=j.get(this);!t||"number"==typeof(e=t.audioID)&&0<=e&&(y.stop(e),t.audioID=-1,i(this,h))},x.offCanplay=function(e){n(this,a,e)},x.offEnded=function(e){n(this,u,e)},x.offError=function(e){n(this,c,e)},x.offPause=function(e){n(this,s,e)},x.offPlay=function(e){n(this,f,e)},x.offSeeked=function(e){n(this,l,e)},x.offSeeking=function(e){n(this,d,e)},x.offStop=function(e){n(this,h,e)},x.offTimeUpdate=function(e){1===n(this,v,e)&&clearInterval(j.get(this).intervalID)},x.offWaiting=function(e){n(this,p,e)},x.onCanplay=function(e){r(this,a,e)},x.onEnded=function(e){r(this,u,e)},x.onError=function(e){r(this,c,e)},x.onPause=function(e){r(this,s,e)},x.onPlay=function(e){r(this,f,e)},x.onSeeked=function(e){r(this,l,e)},x.onSeeking=function(e){r(this,"seekingCallbacks",e)},x.onStop=function(e){r(this,h,e)},x.onTimeUpdate=function(e){var t,o,n;1===r(this,v,e)&&(t=j.get(this),o=this,n=setInterval(function(){var e,t=j.get(o);t?"number"==typeof(e=t.audioID)&&0<=e&&y.getState(e)===g.PLAYING&&i(o,v):clearInterval(n)},500),t.intervalID=n)},x.onWaiting=function(e){r(this,p,e)}},{}],20:[function(e,t,o){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var n={exportTo:function(e,t,o,n){var r;"object"===i(t)&&"object"===i(o)?void 0!==(r=t[e])?o[e]="function"==typeof r?r.bind(t):r:(o[e]=function(){return console.error(e+" is not support!"),{}},"function"==typeof n&&n()):console.warn("invalid exportTo: ",e)}};o.default=n},{}]},{},[8]);